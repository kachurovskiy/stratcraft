{
  "id": "psar",
  "name": "PSAR (Parabolic Stop and Reverse)",
  "description": "Uses PSAR to identify trend changes and stop/reverse points. Buys when price breaks above PSAR, sells when price breaks below PSAR.",
  "category": "Trend Following",
  "author": "StratCraft",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "initialCapital",
      "type": "number",
      "label": "Initial Capital",
      "description": "Initial capital in USD",
      "required": true,
      "default": 100000,
      "min": 1,
      "max": 1000000000,
      "step": 1000
    },
    {
      "name": "tradeSizeRatio",
      "type": "number",
      "label": "Trade Size Ratio",
      "description": "Percentage of portfolio to use for each trade (e.g., 0.002 = 0.2%)",
      "required": true,
      "default": 0.001,
      "min": 0.001,
      "max": 0.01,
      "step": 0.0005
    },
    {
      "name": "minimumTradeSize",
      "type": "number",
      "label": "Minimum Trade Size ($)",
      "description": "Minimum dollar value per trade. Orders smaller than this threshold are rounded up or skipped.",
      "required": true,
      "default": 440,
      "min": 10,
      "max": 1000,
      "step": 10
    },
    {
      "name": "sellFraction",
      "type": "number",
      "label": "Sell Fraction",
      "description": "Fraction of the position to close when a sell signal is generated (0 = none, 1 = full position only)",
      "required": true,
      "default": 0,
      "min": 0,
      "max": 1,
      "step": 1
    },
    {
      "name": "allowShortSelling",
      "type": "number",
      "label": "Enable Short Selling",
      "description": "Set to 1 to allow strategies to enter short positions on sell signals (0 = disabled).",
      "required": true,
      "default": 0,
      "min": 0,
      "max": 1,
      "step": 1
    },
    {
      "name": "stopLossRatio",
      "type": "number",
      "label": "Stop Loss %",
      "description": "Stop loss percentage (e.g., 0.05 = 5%)",
      "required": true,
      "default": 0.055,
      "min": 0.03,
      "max": 0.2,
      "step": 0.005
    },
    {
      "name": "buyDiscountRatio",
      "type": "number",
      "label": "Buy Discount %",
      "description": "Buy only when price is below a certain discount from a baseline (e.g., 0.05 = 5% discount)",
      "required": true,
      "default": 0.005,
      "min": 0,
      "max": 0.1,
      "step": 0.005
    },
    {
      "name": "maxHoldingDays",
      "type": "number",
      "label": "Maximum Holding Days",
      "description": "Maximum number of days to hold a trade before forced closure",
      "required": true,
      "default": 600,
      "min": 120,
      "max": 720,
      "step": 30
    },
    {
      "name": "positionSizingMode",
      "type": "number",
      "label": "Position Sizing Mode",
      "description": "0=fixed, 1=confidence, 2=volatility_target, 3=confidence_vol_target",
      "required": true,
      "default": 0,
      "min": 0,
      "max": 3,
      "step": 1
    },
    {
      "name": "volTargetAnnual",
      "type": "number",
      "label": "Target Annual Volatility",
      "description": "Annualized volatility target (e.g., 0.12 = 12%). 0 disables targeting.",
      "required": true,
      "default": 0,
      "min": 0,
      "max": 0.5,
      "step": 0.01
    },
    {
      "name": "volLookback",
      "type": "number",
      "label": "Volatility Lookback (days)",
      "description": "Lookback window for realized volatility estimate",
      "required": true,
      "default": 20,
      "min": 10,
      "max": 120,
      "step": 5
    },
    {
      "name": "stopLossMode",
      "type": "number",
      "label": "Stop Loss Mode",
      "description": "0=percent, 1=atr",
      "required": true,
      "default": 0,
      "min": 0,
      "max": 1,
      "step": 1
    },
    {
      "name": "atrPeriod",
      "type": "number",
      "label": "ATR Period",
      "description": "ATR lookback period for ATR-based stops",
      "required": true,
      "default": 20,
      "min": 5,
      "max": 60,
      "step": 1
    },
    {
      "name": "atrMultiplier",
      "type": "number",
      "label": "ATR Multiplier",
      "description": "Multiplier for ATR-based stop distance",
      "required": true,
      "default": 2,
      "min": 0.5,
      "max": 5,
      "step": 0.1
    },
    {
      "name": "step",
      "type": "number",
      "label": "Step",
      "description": "Acceleration factor step",
      "required": true,
      "default": 0.035,
      "min": 0.01,
      "max": 0.1,
      "step": 0.005
    },
    {
      "name": "max",
      "type": "number",
      "label": "Maximum",
      "description": "Maximum acceleration factor",
      "required": true,
      "default": 0.2,
      "min": 0.1,
      "max": 0.5,
      "step": 0.01
    },
    {
      "name": "minConfidence",
      "type": "number",
      "label": "Minimum Confidence",
      "description": "Minimum confidence level to execute trades (0-1)",
      "required": true,
      "default": 0,
      "min": 0,
      "max": 1,
      "step": 0.1
    }
  ],
  "exampleUsage": "Use PSAR for trend following and stop/reverse signals."
}
